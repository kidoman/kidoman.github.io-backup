
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>Coder, Biker, Hacker  | Karan Misra</title>

	<meta name="author" content="Karan Misra">

<meta name="description" content=" I will just leave it up here: RoadRunners "> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Karan Misra" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Karan Misra</a></h1>
<span class="tagline">Coder, Biker, Hacker</span>
<nav id="main-nav"><ul>
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">Subscribe</a></li>
  <li><a href="mailto:kidoman@gmail.com">Contact</a></li>
  <li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">Subscribe</a></li>
  <li><a href="mailto:kidoman@gmail.com">Contact</a></li>
  <li><a href="/about">About</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/engineering/announcing-roadrunners.html">
			
				Announcing RoadRunners!</a>
		</h2>
		<div class="meta date">








  


<time datetime="2013-08-31T10:28:00+05:30" pubdate data-updated="true">Aug 31<span>st</span>, 2013</time></div>
	</header>
	<div class="entry-content">
		<p>I will just leave it up here: <a href="http://roadrunners.in/">RoadRunners</a></p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/engineering/golang-testing-the-waters.html">
			
				Golang: Testing the Waters</a>
		</h2>
		<div class="meta date">








  


<time datetime="2013-07-26T02:44:00+05:30" pubdate data-updated="true">Jul 26<span>th</span>, 2013</time></div>
	</header>
	<div class="entry-content">
		<p><img src="//1-ps.googleusercontent.com/x/s.golang-org.appspot.com/golang.org/doc/gopher/xfrontpage.png.pagespeed.ic._-JkwHsaKq.webp" alt="Gopher" /></p>

<p><a href="http://golang.org/">Go</a> has caught my fancy. There, I said it.</p>

<p>The Rubyist in me loves the static duck typing. Loves the promise of never having to navigate &lsquo;murdered by design-patterns&rsquo; code (AbstractFactoryFactory anyone?) Loves the near C/C++ speeds (ok, I know Ruby is not the fastest language, but I can always wish, right?) Loves the ability to compile large code bases in seconds. Loves the channels and the freedom they provide in implementing good/crisp CSP.</p>

<p>Sure, there are a few rough edges but nothing sharp enough to stop me from proposing to build the next enterprise application in Go. I mean, if Google betting YouTube and their primary <a href="http://www.oscon.com/oscon2013/public/schedule/detail/28669">download</a> <a href="http://talks.golang.org/2013/oscon-dl.slide#1">service</a> on it isn&rsquo;t precedence enough, I don&rsquo;t know what can be.</p>

<p>I do not want ThoughtWorks to be late to the party (<a href="http://nodejs.org/">again</a>.) The time is ripe; the community is still taking shape and extremely malleable (in a good way.) So if a little/lot/hardcore evangelizing is what it takes, I am up for the challenge.</p>

<h1>Link to the talk</h1>

<p><a href="http://goo.gl/geuWOP">click</a></p>

<h1>The Talk</h1>

<p>The talk was never intended to be a hands on session (although it transfigured into one towards the end.) More &ldquo;daze and amaze.&rdquo; I think I succeeded on the first part at least.</p>

<h2>The Amaze</h2>

<p>I wanted to highlight the best bits of Golang from the start. No stringing along for 40 slides whilst pretending to know a lot more than I did.</p>

<ul>
<li>Static duck typing</li>
<li>No explicit inheritance + focus on composing</li>
<li>Pointers for efficient access</li>
<li>Built in language support for channels</li>
<li>Super fast compilation</li>
<li>Garbage collection</li>
<li>Gofmt (no more arguments about indentation)</li>
</ul>


<h2>The Daze</h2>

<p>Go will probably make inroads faster into some areas vs others. Main areas of focus are:</p>

<ul>
<li>Creating a highly efficient backend service based on RPC / JSON RPC</li>
<li>Best possible platform for implementing an API end point</li>
<li>Load balancer / database type applications</li>
<li>(world is Go&rsquo;s oyster)</li>
</ul>


<h2>Testing Story</h2>

<p>The core members of Go are ensuring that people do not associate Go with not having to test their code. In fact, the best place to learn testing in Go is to browse through the implementation of Go packages (written by the creators of Go themselves.)</p>

<ul>
<li><a href="http://golang.org/pkg/testing/">&ldquo;testing&rdquo;</a> package makes testing really simple; some may say the approach taken is naive</li>
<li><a href="https://github.com/orfjackal/gospec">GoSpec</a> aims to solve that. Provides a BDD type testing interface for Golang</li>
<li>Speed of running tests makes the whole process a joy</li>
</ul>


<h2>Deployment</h2>

<p>Deployment couldn&rsquo;t be easier. Go spits out a statically linked executable, making dependency management a thing of the past. Package up your executable into a RPM/DEB/what-not and throw it up. Couldn&rsquo;t be simpler.</p>

<h2>Conclusion</h2>

<p>There are still nascent areas of Go which will require attention from the community to gain traction and get smoothened out. However this shouldn&rsquo;t stop us from deploying Go as a API backend for a RoR powered AngularJS based single page application. Use the best bits of the various platforms to get going in the fastest manner possible. Throw the rot out as better Go based alternatives become available. :)</p>

<h2>Resources</h2>

<p>Listing the various resources and good to read links (in no particular order):</p>

<ul>
<li><a href="http://www.usingcsp.com/">CSP</a> (<a href="http://en.wikipedia.org/wiki/Communicating_sequential_processes">wiki</a>), a must read for understand CSP</li>
<li><a href="http://golang.org/">Official homepage</a></li>
<li><a href="http://play.golang.org/">A web based Go runner</a></li>
<li><a href="http://blog.golang.org/">Official blog roll</a></li>
<li><a href="http://blog.mongodb.org/post/60359054233/going-with-go">MongoDB Going with Go</a></li>
<li><a href="http://www.youtube.com/channel/UCtXKDgv1AVoG88PLl8nGXmw">Google Tech Talks YouTube channel</a></li>
<li><a href="https://github.com/diptanu/seli">Seli</a> (written by Diptanu)</li>
<li><a href="https://github.com/orfjackal/gospec">GoSpec</a>, BDD in Go</li>
<li><a href="https://github.com/golang/groupcache">GroupCache</a>, a distributed hybrid client/server memcache alternative</li>
<li><a href="https://github.com/languages/go">Awesome language metrics by Github for Go</a></li>
<li><a href="https://github.com/bradfitz">Brad Fitzpatrik&rsquo;s Github Profile</a></li>
<li><a href="https://github.com/golang">Golang Github Profile</a></li>
<li><a href="http://www.docker.io/">Docker</a> an awesome LXC management tool (<a href="https://github.com/dotcloud/docker">github</a>)</li>
<li><a href="https://github.com/mozilla-services/heka">Heka</a></li>
<li><a href="https://flynn.io/">Flynn</a>, a Docker based OSS Heroku clone</li>
<li><a href="http://robfig.github.io/revel/">Revel</a>, emerging defacto Go web framework</li>
<li><a href="http://www.techempower.com/benchmarks">Techempower Benchmarks</a>, comparing Go&rsquo;s performance to various other web frameworks</li>
<li><a href="http://talks.golang.org/2013/oscon-dl.slide#1">dl.google.com in Go</a>, slides from Brad Fitzpatrik&rsquo;s talk at oscon about reimplementing dl.google.com in Go</li>
<li><a href="http://dave.cheney.net/2013/08/06/go-1-1-on-the-cubieboard-2">Go running on a Cubieboard2</a></li>
<li>Must watch videos on YouTube

<ul>
<li><a href="http://www.youtube.com/watch?v=f6kdp27TYZs">Go Concurrency Patterns</a></li>
<li><a href="http://www.youtube.com/watch?v=MzYZhh6gpI0">Tour of Go</a></li>
<li><a href="http://www.youtube.com/watch?v=kKQLhGZVN4A">Go in Production</a></li>
</ul>
</li>
</ul>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/life/i-have-got-7.html">
			
				I Have Got 7!</a>
		</h2>
		<div class="meta date">








  


<time datetime="2013-06-11T07:06:00+05:30" pubdate data-updated="true">Jun 11<span>th</span>, 2013</time></div>
	</header>
	<div class="entry-content">
		<p><img class="center" src="/images/got-ios7.png" title="iOS 7" ></p>

<p>Just updated both my devices (well technically Neeru&rsquo;s and mine) and couldn&rsquo;t be happier.</p>

<p>Will post a detailed analysis in some time&hellip;</p>

<p>PS: What you see on the screen is iOS 7 doing opportunistic updates for all my apps! Hurray&hellip;</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/engineering/node-dot-js-in-action-learnings.html">
			
				node.js in Action: Learnings</a>
		</h2>
		<div class="meta date">








  


<time datetime="2013-05-31T01:58:00+05:30" pubdate data-updated="true">May 31<span>st</span>, 2013</time></div>
	</header>
	<div class="entry-content">
		<p><img src="/images/node.js.png" title="nodejs" ></p>

<p>I recently gave a talk on node.js at work&hellip; the talk was surprisingly well attended. It was scheduled to start at 1 PM. At around 1:02 PM, I was alone in the room with not another soul in sight. The room filled to the brim in the next 10 minutes. Last count = 33</p>

<h1>Link to the talk</h1>

<p><a href="http://goo.gl/Pcz2wQ">click</a></p>

<h1>The Talk</h1>

<p>The theme of the talk was to get people excited about the node.js work we were doing for a large enterprise client. Almost 9 months into development, we had figured out a tonne of patterns and idioms and had actually started becoming productive with it. Talking about the hurdles faced during the non avoidable learning curve seemed like a sensible thing to do.</p>

<h2>Tech Stack</h2>

<p>Although I cannot reveal any actual URLs atm, the stack of the application we are developing is as follows:</p>

<ul>
<li>node.js (Platform)</li>
<li>Express (Web Server)</li>
<li>Sequelize (ORM)</li>
<li>MySQL (Database)</li>
<li>Q (Promises)</li>
<li>Mocha/Sinon/Chai (and their -as-promised bretheren, for TDD)</li>
<li>Grunt (Command runner)</li>
<li>Coffee-Resque (For background jobs)</li>
<li>Socket.io (For realtime tracking of connected clients)</li>
<li>Redis (As a datastore for our generated socket.io handshake tokens)</li>
<li>connect-assetmanager (For managing our assets; <strong>update</strong> we have now replaced this with our own hand rolled solution)</li>
</ul>


<h2>Promises to Keep: Q</h2>

<p>I think it is essential for any new node.js project to base itself on a solid promises library. As indicated above, the library of choice for us was Q. I would go out on a limb and say this &ndash; &ldquo;Avoiding callback hell is probably the least interesting feature of Q.&rdquo;</p>

<p>Q allows us to beautifully structure our code without excessive &ldquo;pyramiding.&rdquo; You still end up with a few nested promises from time to time, but that is also avoidable with judicious usage of Q.spread.</p>

<h2>Testing</h2>

<p>Equally important is the need to get the TDD/BDD pattern flowing right from get go. Mocha/Sinon/Chai allow BDD in JavaScript to look almost as elegant as RSpec (which I consider to be the holy grail of developer friendly BDD.) Being smart and using the -as-promised utility node modules will also save you a lot of grief and restore a sense of sanity to the test cases (you can then essentially start returning promises of future asserts from your test cases, instead of having to call a <strong>done()</strong> at the end to signal the end.)</p>

<h2>Scaling and Deployment</h2>

<p>Our dreams of serving a million requests from a single node.js process were quickly shattered when we discovered a pegged 100% CPU (on a single core.) Besides trying to fix the main issue (which turned out to be the MySQL driver being used by sequelize) we also spent some time getting the <a href="http://unicorn.bogomips.org/">unicornification</a> of node.js right. We ended up with a master-slave arrangement which allowed us to scale our application to N-1 cores (where N is the total number of cores available in the machine.) Common sense dictated the <strong>-1</strong> part (to leave a core aside for the kernel and various sub systems.)</p>

<p>Figuring our deployments was also fun. Although there was some talk of building and deploying a .rpm (our target Linux distribution was CentOS 6.4), the general lack of time lead us to adapt a git based deployment mechanism. Any SHA is a good candidate for deployment to any of our environments. We obviously ended up tagging the good ones.</p>

<h2>Conclusion</h2>

<p>We really went out on a limb here by using node.js for the project when we did not actually have much in house expertise on the same. However, the effort has redeemed itself many fold. A lot of people have successfully managed to <strong>get</strong> &ldquo;concurrent programming&rdquo; as a result. Coming out from the comfort zone of RoR, .NET and Java also possibly has changed the course of their lives for ever! :)</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/programming/why-sublime-text.html">
			
				Why Sublime Text?</a>
		</h2>
		<div class="meta date">








  


<time datetime="2013-05-23T02:17:00+05:30" pubdate data-updated="true">May 23<span>rd</span>, 2013</time></div>
	</header>
	<div class="entry-content">
		<p><img class="center" src="/images/sublime.png"></p>

<p>I wanted to pen down the results of my 5 month long &ldquo;select the best text editor available&rdquo; thought experiment. So here we go&hellip;</p>

<h2>tl;dr</h2>

<p>Although <strong>vim</strong> gets the best text editor award, I choose to continue using Sublime Text <strong>3</strong> for all my development needs. Read on to find out why&hellip;</p>

<h2>The Experiment</h2>

<p>This journey started with me being infatuated with the <a href="http://railscasts.com/about">RailsCasts</a> theme which Ryan Bates made famous via his <a href="http://railscasts.com/">podcasts</a>. Coming from a data warehousing / .NET background, this felt surreal.</p>

<p>As a budding Rubyist, I fell in love with <a href="http://macromates.com/">TextMate</a>. It was fast and elegant. The fact that the grubby little fingers of my .NET-abled friends could not get at it made it more wonderful. It provided just enough control&hellip; the balance produced elegant harmony.</p>

<p>So naturally, when I had to code Ruby for a Windows infrastructure automation project (based on <a href="http://www.opscode.com/chef/">Chef</a>) we were doing for our client, I pounced at Sublime Text. It brought in the elegance of TextMate and acted as a necessary survival tool in a Microsoft dev environment. The awesome snippet system eliminated any need I <strong>possibly</strong> could have felt for an IDE (RubyMine, I am looking at you.) And need I mention the beautiful Cmd + P fuzzy file lookup implementation (Ctrl + P for the devs who call Seattle their home.)</p>

<p>Its now been a few months since I have had to boot up Windows for <em>work</em>. Now that I had used Sublime Text for a good few months, I wanted to evaluate the other options available with Mac OS X and adopt the <em>ultimate</em> nirvana&hellip;</p>

<p>A quick research showed me the following available tunnels:</p>

<ul>
<li>vim (Inspired from <a href="http://blog.extracheese.org/">Gary Bernhardt</a>, of <a href="https://www.destroyallsoftware.com/">DAS</a> fame)</li>
<li>emacs (Inspired from <a href="http://onestepback.org/">Jim Weirich</a>, of Rake fame)</li>
<li>MacVim (Inspired from the ever loveable <a href="http://tenderlovemaking.com/">tenderlove</a>, a Ruby and Rails core committer)</li>
<li>Sublime Text (Based on my own experience)</li>
<li>TextMate 1 / 2 (Inspired from watching Ryan Bates work his magic in the screen casts)</li>
</ul>


<p>I am not going to elaborate too much about these choices but just provide an abstract about some of them to help you find the light.</p>

<h2>(Mac)vim &amp; emacs</h2>

<p>vim felt like <strong>God&rsquo;s Own Editor</strong>. Seeing Gary fly through the code was a revelation. In his own words (paraphrasing), &ldquo;I don&rsquo;t want to show you my key strokes (in the recorded podcasts, contrary to how Ryan does it in his) because they will fly by so fast that you won&rsquo;t have time to see them.&rdquo;</p>

<p>This reveals a lot about the core vim. A fully done up vim instance (perhaps decorated with <a href="https://github.com/carlhuda/janus">Janus</a>) is so &ldquo;busy&rdquo;, that there is hardly any time for you to be motionless. You are doing something all the time&hellip; As you learn more of the legendary editor, you manage short cuts and macros which would make Chuck Norris turn in his bed. Hell, after a while, you ever start using the wonderful vim script <a href="https://github.com/tpope/vim-fugitive">Fugitive</a> to make tender love to Git! All from within your text editor&hellip; what could be better than that?</p>

<p>The same can also be said for emacs too (some people even use emacs as their shell / OS replacement!)</p>

<h2>One man&rsquo;s meat is another man&rsquo;s poison</h2>

<p>And I am not saying this in the passing. After using vim/MacVim for a good 3+ months (I had picked up decent speed with the editor and figured out a bunch of essential plugins which helped me almost avoid having to step out to <a href="http://www.iterm2.com/">iTerm</a>) I realized that it had not made me any faster at programming. Sure, I could &ldquo;edit&rdquo; a document at the speed of light, <a href="https://github.com/Lokaltog/vim-easymotion">motion</a> around effortlessly&hellip; but when it came to solving a real hard business problem, I found myself retracting my hands from the keyboard&hellip; a <strong>setTimeout(.., 0)</strong> of sorts!</p>

<p>Although a lot of people claim that they can multitask super efficiently, scientific studies have proven that it is human to have your work deteriorate when multi-tasking. It was hard to organize my thoughts with the constant rattle of keyboard which vim encourages.</p>

<p>For me, the realisation dawned one lazy afternoon when trying to trace down a memory leak problem as I witnessed myself involuntarily quit vim and open up the same project directory in Sublime Text.</p>

<p><strong>The think time that was afforded to my brain when using a less efficient editor was missing when using a ninja text editor like vim. vim kept the brain so busy because of its efficiency and throughput (keys pressed per second) that the left lobe hardly got any time to go <a href="http://lwn.net/Articles/549580/">tickless</a> and actually focus on the problem at hand.</strong></p>

<p>The same happened when I had to use the mouse to shift through files as well&hellip; the time slices were larger because of the easy nature of navigation in a simple text editor which hardly took any thinking. So the brain could subconsciously continue working on the problem at hand instead of trying to figure out the best possible way to do the required action in vim.</p>

<h2>Summary</h2>

<p>Sublime Text / TextMate are hardly the best editors out there. But, when it comes to actually letting you focus on the job at hand (remember, our forte is smart programming, not smart editing of source files); they <strong>SHINE</strong>.</p>

<p>This is why I shifted back to Sublime Text (now in its <strong>3rd</strong> incarnation) after my 5 month <strong>thought</strong> experiment and I couldn&rsquo;t be happier.</p>

<p>Give it a honest shot (just like you had to for your full featured IDE or vim/emacs) and you will understand how short and rewarding the learning curve is. The sweet sensation you will feel at the tip of your tongue after your first multi line edit is totally worth it! Trust me.</p>

<p><strong>PS</strong>: For folks stuck in Java / .NET, I feel for you!</p>

		
		
	</div>

</article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Previous</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
</nav>
</div>
	<footer id="footer" class="inner">&copy; 2014

    Karan Misra

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/hyphenator.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'kidoman';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44459958-1', 'kidoman.io');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>




</body>
</html>
